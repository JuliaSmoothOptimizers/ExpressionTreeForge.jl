<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Developper note · ExpressionTreeForge.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/style.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="ExpressionTreeForge.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">ExpressionTreeForge.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../tutorial/">Tutorial</a></li><li><a class="tocitem" href="../reference/">Reference</a></li><li class="is-active"><a class="tocitem" href>Developper note</a><ul class="internal"><li><a class="tocitem" href="#Flexibility-of-the-code"><span>Flexibility of the code</span></a></li><li><a class="tocitem" href="#Organization-of-the-code"><span>Organization of the code</span></a></li><li><a class="tocitem" href="#Limits"><span>Limits</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Developper note</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Developper note</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/paraynaud/ExpressionTreeForge.jl/blob/master/docs/src/developer_note.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Developer-note"><a class="docs-heading-anchor" href="#Developer-note">Developer note</a><a id="Developer-note-1"></a><a class="docs-heading-anchor-permalink" href="#Developer-note" title="Permalink"></a></h1><h2 id="Flexibility-of-the-code"><a class="docs-heading-anchor" href="#Flexibility-of-the-code">Flexibility of the code</a><a id="Flexibility-of-the-code-1"></a><a class="docs-heading-anchor-permalink" href="#Flexibility-of-the-code" title="Permalink"></a></h2><p>The code architecture is developed such that every structure can be replaced by a new one as long as the new <code>struct</code> keep satisfying the mandatory methods of the interface (see the files <code>itf_&lt;behavior&gt;.jl</code>). The source code dynamically checks that the parameters of the interface methods are one of the expected expression trees. This mechanism is called a <a href="https://ahsmart.com/pub/holy-traits-design-patterns-and-best-practice-book/#implementing_the_holy_traits_pattern">Holy traits</a>, implemented in the several <code>tr_&lt;behavior&gt;.jl</code> files. These files indicate the supported <code>struct</code>ures and gather the methods that can be applied indistinctly on it(mainly those of the interface). In consequence, if all the methods required by an algorithm are from the trait, the algorithm will work for every supported <code>struct</code>ures. That way, we don&#39;t rely on <code>abstract type</code> hierarchy, and we can apply algorithms to types that can&#39;t be a subtype of our <code>abstract type</code>s (ex: <code>Expr</code>). This interface-trait philosophy is applied on the:</p><ul><li>operator/variable/constant nodes;</li><li>implementations of tree;</li><li>implementations of expression tree.</li></ul><h3 id="Issue-of-interface/trait-approach"><a class="docs-heading-anchor" href="#Issue-of-interface/trait-approach">Issue of interface/trait approach</a><a id="Issue-of-interface/trait-approach-1"></a><a class="docs-heading-anchor-permalink" href="#Issue-of-interface/trait-approach" title="Permalink"></a></h3><p>The issue is that you have to implement for every supported <code>struct</code>ures ell the interface methods which growth with time. To keep the code consistent there are some internal structures that are certified for the interface-trait methods (ex: <code>Type_expr_tree</code>, <code>Complete_expr_tree</code>). In the worst case, you can interface your structure with <code>Type_expr_tree</code> and apply the methods directly on the results of the interfacing.</p><h2 id="Organization-of-the-code"><a class="docs-heading-anchor" href="#Organization-of-the-code">Organization of the code</a><a id="Organization-of-the-code-1"></a><a class="docs-heading-anchor-permalink" href="#Organization-of-the-code" title="Permalink"></a></h2><p>The source code is divided in four sub-repository:</p><ul><li><code>src/type_expr/</code> gather types about the nodes of an expression tree. It implements:<ul><li>internal types: <code>constant, linear, quadratic, cubic</code> or <code>more</code> non-linear;</li><li>the convexity status: <code>constant, linear</code>, strictly <code>convex</code>, strictly <code>concave</code> or <code>unknown</code>.</li></ul></li><li><code>src/tree/</code> is about classic tree behavior:<ul><li>implement <code>Type_node&lt;:AbstractTree</code>, a node structure which can be used to build a tree;</li><li>the expected methods that every tree should satisfy (interface <code>src/tree/itf_tree.jl,</code>);</li><li>an implementation of the interface for <code>Expr</code> (which can&#39;t be a subtype of <code>AbstractTree</code>);</li><li>an algorithm printing every structure satisfying the tree interface.</li></ul></li><li><code>src/node_expr_tree/</code> implement the supported operator nodes which are part of an expression tree:<ul><li>implement <code>plus, power, times, minus, constant, variable, sin, cos, tan</code> node operators;</li><li>the expected methods that every node should satisfy (interface <code>src/tree/itf_expr_node.jl</code>);</li><li>methods to evaluate a node, its bounds or its convexity status.</li></ul></li><li><code>src/expr_tree/</code> implements the supported expression tree and the methods that can be applied on it:<ul><li>the expected methods that every expression tree should satisfy (interface <code>src/tree/itf_expr_tree.jl</code>);</li><li>some implementation of expression trees;</li><li>bounds propagation and convexity detection;</li><li>algorithms applied onto expression trees.</li></ul></li></ul><h3 id="How-to-add-a-new-tree-implementation"><a class="docs-heading-anchor" href="#How-to-add-a-new-tree-implementation">How to add a new tree implementation</a><a id="How-to-add-a-new-tree-implementation-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-add-a-new-tree-implementation" title="Permalink"></a></h3><p>You must define your tree <code>src/tree/YourTree.jl</code> alongside the other possible tree interfaces. You also have to overload most of the method of <code>src/tree/itf_tree.jl</code>.</p><h3 id="How-to-add-a-new-operator-node"><a class="docs-heading-anchor" href="#How-to-add-a-new-operator-node">How to add a new operator node</a><a id="How-to-add-a-new-operator-node-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-add-a-new-operator-node" title="Permalink"></a></h3><p>You must define your operator <code>src/node_expr_tree/YourOperator.jl</code> alongside the other operator node interfaces. You also have to overload most of the method of <code>src/node_expr_tree/itf_expr_node.jl</code>.</p><h3 id="How-to-add-a-new-expression-tree-implementation"><a class="docs-heading-anchor" href="#How-to-add-a-new-expression-tree-implementation">How to add a new expression tree implementation</a><a id="How-to-add-a-new-expression-tree-implementation-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-add-a-new-expression-tree-implementation" title="Permalink"></a></h3><p>You must define your tree <code>src/expr_tree/YourExpressionTree.jl</code> alongside the other possible tree interfaces. You also have to overload most of the method of <code>src/expr_tree/itf_expr_tree.jl</code>.</p><h2 id="Limits"><a class="docs-heading-anchor" href="#Limits">Limits</a><a id="Limits-1"></a><a class="docs-heading-anchor-permalink" href="#Limits" title="Permalink"></a></h2><p>For now, the main internal structures <code>Type_expr_tree</code> and <code>Complete_expr_tree</code> representing expression trees are not directed acyclic graphs, but trees.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../reference/">« Reference</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Friday 8 July 2022 13:27">Friday 8 July 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
